#!/bin/sh

# This script is called on startup to remap keys.

# Decrease key repeat delay to 270ms and increase key repeat rate to 50 per second.
xset r rate 270 50
# Map the caps lock key to super, and swap left alt with left control
setxkbmap -option -option caps:super
# setxkbmap -option -option caps:super,ctrl:swap_lalt_lctl
# When caps lock is pressed only once, treat it as escape.
killall xcape 2>/dev/null ; xcape -e 'Super_L=Escape'
# Turn off caps lock if on since there is no longer a key for it.
xset -q | grep -q "Caps Lock:\s*on" && xdotool key Caps_Lock

# Disable the left super key - avoid bad habbits
xmodmap -e "keysym Super_L = NoSymbol"
xmodmap -e "keycode 66 = Super_L"

xmodmap -e "keycode 9 = Escape asciitilde Escape"
# xmodmap -e "keysym Shift_R = BackSpace"
